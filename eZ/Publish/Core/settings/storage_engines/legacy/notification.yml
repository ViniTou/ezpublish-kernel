parameters:
    notification.persistence.handler.class: eZ\Publish\Core\Persistence\Legacy\Notification\Handler
    notification.persistence.gateway.doctrine.class: eZ\Publish\Core\Persistence\Legacy\Notification\Gateway\DoctrineDatabase

services:
    notification.persistence.gateway.doctrine:
        class: '%notification.persistence.gateway.doctrine.class%'
        arguments:
            - '@ezpublish.api.storage_engine.legacy.dbhandler'

    eZ\Publish\Core\Persistence\Legacy\Notification\Handler:
        arguments:
            $gateway: '@notification.persistence.gateway.doctrine'
        lazy: true

    ezpublish.spi.persistence.legacy.notification.handler:
        alias: 'eZ\Publish\Core\Persistence\Legacy\Notification\Handler'
